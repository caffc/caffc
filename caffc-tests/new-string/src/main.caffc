module main

native {
  #include <stdio.h>
}

print_string(str x) {
  native {
    printf("%s\n", x->_caffc_data);
  }
}

main() -> i32 {
  str[] x = new str[2]

  x[0] = "abc"
  x[1] = "cde"

  print_string(x[0])
  print_string(x[1])

  return 0
}

native {
  int main(int argc, char** argv) {
    atexit(caffc_done);
    caffc_init();

    return main_main();
  }
}
