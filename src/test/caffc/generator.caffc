module main

simple() -> gen<i32> {
    if x < 3 {
        io.out.print("first")
        yield 3
    }

    io.out.print("next")
    yield 4
}

range(i32 end = 1) -> gen<i32> {
    for i32 i in range(5) {
        while i < end {
            io.out.print("yay")
            yield i
            io.out.print("nay")
        }
    }
}

x(i32 y) {
}

main() -> i32 {
    io.out.print("yay")

    for i in range(10) {
        io.out.print("number: " + i)
    }

    io.out.print("nay")
}
