package main

// use click, io

option(f fn<>, name string, default_value string) -> fn<,> {
    result() -> {
    }
}

@click.command()
@click.option("--files", default=3)
@click.argument("output")
remain(files i32, output str) -> i32 {
    var x = 3 // i32
    var y = 4 // i32
    str z = "abc"

    io.stdout.println("writing {files} files")
    for var file in range(files) {
        process_file(file)
    }

    return 0
}

/**
 * caffc(char* s, int base)
 */
@caffc_c()
caffc_atoi(ptr s, i32 base) -> i32 {
    str value = str(s)
    i32 x = value as i32

    ret x
}

main(list<str> argv) {
    click.main(argv)
}

